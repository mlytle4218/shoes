/*! Mon Oct 01 2018 14:02:23 */

var container,controls,model,fileName,fileExt,path,camera,scene,renderer,light,light3,raycaster,mouse,plane,print,rotationDone=!1,keepAnimating=!0,floatProgress=0,skyColor=16777215,connectingElement="product-canvas",cameraDistance=500;function loadModelOntoPage(e){init(e.gltf,e.shadow)}function init(e,n){container=document.getElementById(connectingElement),(camera=new THREE.PerspectiveCamera(45,container.clientWidth/container.clientHeight,1,50)).position.set(0,0,cameraDistance),scene=new THREE.Scene;var t=new THREE.Color(14540253);scene.background=t,(light=new THREE.AmbientLight(skyColor)).position.set(0,10,0),scene.add(light),(new THREE.GLTFLoader).load(e,function(e){(model=e.scene).rotation.y=-Math.PI/2,scene.add(model),scene.add(print),modelLoaded=!0,setTimeout(function(){rotateOnce(model)},100)},void 0,function(e){console.error(e)});var o=new THREE.TextureLoader,r=new THREE.MeshLambertMaterial({map:o.load(n)});r.transparent=!0;var i=new THREE.PlaneGeometry(10,20);(print=new THREE.Mesh(i,r)).position.set(0,-2,0),print.rotation.x=Math.PI/2*3,print.rotation.z=Math.PI/2,raycaster=new THREE.Raycaster,mouse=new THREE.Vector2,(controls=new THREE.OrbitControls(camera,document.getElementById(connectingElement))).target.set(0,5,0),controls.maxDistance=40,controls.minDistance=10,controls.update(),this.renderer=new THREE.WebGLRenderer({antialias:!0}),renderer.setPixelRatio(window.devicePixelRatio),renderer.setSize(container.clientWidth,container.clientHeight),renderer.gammaOutput=!0,container.appendChild(renderer.domElement),animate()}function onWindowResize(){camera.aspect=container.clientWidth/container.clientHeight,camera.updateProjectionMatrix(),renderer.setSize(container.clientWidth,container.clientHeight)}function animate(){requestAnimationFrame(animate),rotationDone&keepAnimating&&float(),renderer.render(scene,camera)}function onMouseDown(e){rotationDone&&(keepAnimating=!1,model.position.x=0,model.position.y=0,model.position.z=0,scene.remove(print))}function rotateOnce(e){rotationDone=!1;var n=setInterval(function(){125<=t?(clearInterval(n),rotationDone=!0):(t++,e.rotation.y+=.05,print.rotation.z+=.05)},10),t=0}function float(){160<=floatProgress?floatProgress=0:floatProgress<40?(floatProgress++,model.position.y+=.005):floatProgress<80?(floatProgress++,model.position.y-=.005):floatProgress<120?(floatProgress++,model.position.y-=.005):floatProgress<160&&(floatProgress++,model.position.y+=.005)}window.addEventListener("resize",onWindowResize,!1),window.addEventListener("mousedown",onMouseDown,!1);